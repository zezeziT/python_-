# Python 继承详解

本文总结了 Python 中单继承、多重继承以及 `super()` 的用法，并对每一步调用进行了详细解释，适合初学者阅读。

---

## 1. 单继承

```python
class Animal:
    def speak(self):
        print("Animal speaks")

class Dog(Animal):
    def speak(self):
        print("Woof!")

d = Dog()
d.speak()  # Woof!
```

### 解释：
- `class Animal:` 定义了一个父类 Animal。
- `def speak(self):` 定义实例方法 speak，`self` 是实例本身。
- `class Dog(Animal):` 定义子类 Dog，继承 Animal。
- Dog 重写了 `speak` 方法，所以调用 `d.speak()` 输出 Dog 的方法结果。

### 调用父类方法：
```python
class Dog(Animal):
    def speak(self):
        Animal.speak(self)  # 调用父类方法
        print("Woof!")
```
- `Animal.speak(self)`：手动调用父类方法，需要传入实例 self。
- 输出结果：
```
Animal speaks
Woof!
```

---

## 2. 多重继承

```python
class A:
    def say(self):
        print("A")

class B:
    def say(self):
        print("B")

class C(A, B):
    pass

c = C()
c.say()  # A
```

### 解释：
- C 同时继承 A 和 B。
- Python 查找方法遵循 MRO（方法解析顺序）：
  1. 子类 → 2. 左边父类 → 3. 再右边父类 → 4. object
- C 的 MRO： `[C, A, B, object]`
- 所以 `c.say()` 输出 A。

### 多继承调用父类方法示例
```python
class C(A, B):
    def say(self):
        super().say()  # 按 MRO 自动找下一个类
        print("C")
```
- super() 会按 MRO 找下一个类的方法。
- 如果 A.say 里没有写 super()，B 不会被调用。
- 输出：
```
A
C
```

### 若希望 A、B、C 都执行
```python
class A:
    def say(self):
        print("A")
        super().say()  # 继续调用下一个类

class B:
    def say(self):
        print("B")

class C(A, B):
    def say(self):
        super().say()
        print("C")
```
- 输出：
```
A
B
C
```

---

## 3. super() 的机制

1. `super()` 返回一个 **代理对象**，自动把 **当前实例** 传给父类方法。
2. 写法：`super().method()` 不需要写 self，Python 自动处理。
3. Python3 中 `super()` 默认等价于 `super(当前类, 当前实例)`。

### 对比调用方式
| 调用方式 | self 是否要写 | 说明 |
|----------|------------|------|
| `instance.method()` | 不写 | Python 自动把实例当 self 传入 |
| `Class.method(instance)` | 要写 | 手动调用，必须传入实例 |
| `super().method()` | 不写 | super 自动把当前实例当 self 传入 |

⚡ 总结：super() 是“自动带 self 的父类代理”。

---

## 4. 初学者建议

1. 单继承重写方法时，直接调用父类名就够：
```python
Animal.speak(self)
```
2. 多重继承时，先理解 MRO：子类 → 左边父类 → 右边父类 → object。
3. super() 可以先不学，主要在需要多个父类方法接力调用时再掌握。

---

这样先掌握继承和方法重写，比纠结 super() 更重要。

